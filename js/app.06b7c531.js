(function(){"use strict";var e={299:function(e,t,n){var o=n(963),s=n(252),i={class:"page"};function r(e,t,n,o,r,l){var u=(0,s.up)("LeftPanel"),a=(0,s.up)("router-view");return(0,s.wg)(),(0,s.iD)("div",i,[(0,s.Wm)(u),(0,s.Wm)(a,{class:"page-content"})])}var l=function(e){return(0,s.dD)("data-v-3bdd059e"),e=e(),(0,s.Cn)(),e},u=l((function(){return(0,s._)("img",{src:"img/icons/logo.svg",alt:"Logo",class:"left-panel-logo"},null,-1)}));function a(e,t,n,o,i,r){var l=(0,s.up)("router-link");return(0,s.wg)(),(0,s.j4)(l,{to:"/",class:"left-panel"},{default:(0,s.w5)((function(){return[u]})),_:1})}var c=(0,s.aZ)({name:"LeftPanel",methods:{navigateToHomePage:function(){this.$router.push({name:"home"})}}}),d=n(744);const h=(0,d.Z)(c,[["render",a],["__scopeId","data-v-3bdd059e"]]);var g=h,p={components:{LeftPanel:g}};const f=(0,d.Z)(p,[["render",r]]);var m=f,v=n(201),b={class:"home"},w={class:"home-top-bar"},k=(0,s._)("h2",{class:"home-top-bar-title"},"Всі дизайни",-1);function y(e,t,n,i,r,l){var u=(0,s.up)("CustomButton"),a=(0,s.up)("DesignList");return(0,s.wg)(),(0,s.iD)("div",b,[(0,s._)("div",w,[k,(0,s.Wm)(u,{text:"Додати дизайн",onClick:(0,o.iM)(e.handleButtonClick,["prevent"])},null,8,["onClick"])]),(0,s.Wm)(a,{designs:e.designs},null,8,["designs"])])}var _=n(577);function D(e,t,n,o,i,r){return(0,s.wg)(),(0,s.iD)("button",{class:(0,_.C_)(["custom-button",{"custom-button--special-style":e.specialStyles}])},(0,_.zw)(e.text),3)}var P=(0,s.aZ)({name:"CustomButton",props:{text:{type:String,required:!0},specialStyles:{type:Boolean,default:!1}}});const C=(0,d.Z)(P,[["render",D],["__scopeId","data-v-dfdf337c"]]);var I=C,S={class:"list"};function x(e,t,n,o,i,r){var l=(0,s.up)("DesignItem");return(0,s.wg)(),(0,s.iD)("div",S,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.designs,(function(e){return(0,s.wg)(),(0,s.j4)(l,{key:e.number,design:e},null,8,["design"])})),128))])}var M=["src"],B={class:"item-bottom-info"},O={class:"item-bottom-info-number"},E={class:"item-bottom-info-title"};function Z(e,t,n,o,i,r){return(0,s.wg)(),(0,s.iD)("article",{class:"item",onDblclick:t[0]||(t[0]=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.editDesign&&e.editDesign.apply(e,t)})},[(0,s._)("img",{src:e.design.photos[0],alt:"Design photo",class:"item-photo"},null,8,M),(0,s._)("div",B,[(0,s._)("span",O,(0,_.zw)(e.design.number),1),(0,s._)("span",E,(0,_.zw)(e.design.title),1)])],32)}var j=(0,s.aZ)({name:"DesignItem",props:{design:{type:Object,default:function(){return{}}}},methods:{editDesign:function(){this.$router.push({name:"edit",params:{number:this.design.number}})}}});const N=(0,d.Z)(j,[["render",Z],["__scopeId","data-v-82cdd444"]]);var L=N,F=(0,s.aZ)({name:"DesignList",props:{designs:{type:Array,default:function(){return[]}}},components:{DesignItem:L}});const W=(0,d.Z)(F,[["render",x],["__scopeId","data-v-490516f4"]]);var T=W,$=(0,s.aZ)({components:{CustomButton:I,DesignList:T},data:function(){var e=[],t=localStorage.getItem("designs")||"[]";try{e=JSON.parse(t)}catch(n){}return{designs:e}},methods:{handleButtonClick:function(){this.$router.push("add")}}});const q=(0,d.Z)($,[["render",y]]);var z=q,A=function(e){return(0,s.dD)("data-v-35dcf504"),e=e(),(0,s.Cn)(),e},J={class:"page"},U={class:"page-container"},G={class:"form-container"},H={class:"toggle"},V=A((function(){return(0,s._)("div",{class:"toggle-button-circle"},null,-1)})),K=[V],R={key:0,class:"photos-container"},Y=["onMouseover","onMouseout"],Q=["src"],X=["onClick"],ee=A((function(){return(0,s._)("label",{for:"fileInput",class:"photos-container-wrapper--small"},[(0,s._)("img",{src:"img/icons/union.svg",alt:"Empty image",class:"photos-container-wrapper--small-plus"})],-1)})),te={key:1,for:"fileInput",class:"photo-container"},ne=A((function(){return(0,s._)("img",{src:"img/icons/image.svg",alt:"Empty image",class:"photo-container-photo-icon"},null,-1)})),oe=[ne],se={class:"form-container-info"},ie={key:0,class:"form-container-error-message"},re={class:"form-container-error-message-top"},le=A((function(){return(0,s._)("p",{class:"form-container-error-message-text"}," Заповніть всі поля форми ",-1)})),ue={class:"page-buttons"};function ae(e,t,n,i,r,l){var u=(0,s.up)("GoBackButton"),a=(0,s.up)("CustomButton");return(0,s.wg)(),(0,s.iD)("div",J,[(0,s._)("div",U,[(0,s.Wm)(u),(0,s._)("div",G,[(0,s._)("div",H,[(0,s._)("div",{class:(0,_.C_)(["toggle-button",{"toggle-button-active":e.isPublished}]),onClick:t[0]||(t[0]=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.togglePublished&&e.togglePublished.apply(e,t)})},K,2),(0,s._)("span",{class:(0,_.C_)(["toggle-text",{"toggle-text-active":e.isPublished}])},(0,_.zw)(e.isPublished?"Опублікований":"Неопублікований"),3)]),e.selectedPhotos.length>0?((0,s.wg)(),(0,s.iD)("div",R,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.selectedPhotos,(function(t,n){return(0,s.wg)(),(0,s.iD)("div",{class:"photos-container-wrapper",key:t,onMouseover:function(t){return e.showDeleteIcon(n)},onMouseout:function(t){return e.hideDeleteIcon(n)}},[(0,s._)("img",{src:t,alt:"Selected image",class:"photos-container-wrapper-selected-photo"},null,8,Q),e.currentPhotoIndex===n?((0,s.wg)(),(0,s.iD)("img",{key:0,src:"img/icons/delete.svg",alt:"Delete",class:"photos-container-wrapper-delete",onClick:function(n){return e.removePhoto(t)}},null,8,X)):(0,s.kq)("",!0)],40,Y)})),128)),ee,(0,s._)("input",{id:"fileInput",type:"file",accept:".jpg, .png, .svg",onChange:t[1]||(t[1]=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.onFileSelected&&e.onFileSelected.apply(e,t)}),class:"input-hidden"},null,32)])):((0,s.wg)(),(0,s.iD)("label",te,oe)),(0,s._)("input",{id:"fileInput",type:"file",accept:".jpg, .png, .svg",onChange:t[2]||(t[2]=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.onFileSelected&&e.onFileSelected.apply(e,t)}),class:"input-hidden"},null,32),(0,s._)("div",se,[(0,s.wy)((0,s._)("input",{type:"text",placeholder:"###",class:"input input-number","onUpdate:modelValue":t[3]||(t[3]=function(t){return e.newNumber=t})},null,512),[[o.nr,e.newNumber]]),(0,s.wy)((0,s._)("input",{type:"text",placeholder:"Назва дизайну",class:"input input-title","onUpdate:modelValue":t[4]||(t[4]=function(t){return e.title=t})},null,512),[[o.nr,e.title]])]),(0,s.wy)((0,s._)("input",{type:"text",placeholder:"https://design###.horoshop.ua/",class:"input input-url","onUpdate:modelValue":t[5]||(t[5]=function(t){return e.link=t})},null,512),[[o.nr,e.link]]),(0,s.Wm)(o.uT,{name:"fade"},{default:(0,s.w5)((function(){return[e.isErrorMessageShown?((0,s.wg)(),(0,s.iD)("div",ie,[(0,s._)("div",re,[(0,s._)("img",{src:"img/icons/close.svg",alt:"Close",class:"form-container-error-message-top-icon-close",onClick:t[6]||(t[6]=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.closeErrorMessage&&e.closeErrorMessage.apply(e,t)})})]),le])):(0,s.kq)("",!0)]})),_:1})])]),(0,s._)("div",ue,[e.currentDesign?((0,s.wg)(),(0,s.j4)(a,{key:0,text:"Видалити",specialStyles:!0,onClick:(0,o.iM)(e.removeDesign,["prevent"])},null,8,["onClick"])):(0,s.kq)("",!0),(0,s.Wm)(a,{text:"Зберегти і вийти",onClick:(0,o.iM)(e.addDesign,["prevent"])},null,8,["onClick"])])])}function ce(e,t,n,o,i,r){return(0,s.wg)(),(0,s.iD)("img",{src:"img/icons/arrow-left.svg",alt:"Arrow left",class:"arrow",onClick:t[0]||(t[0]=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.goBack&&e.goBack.apply(e,t)})})}var de=(0,s.aZ)({name:"GoBackButton",methods:{goBack:function(){this.$router.push("/")}}});const he=(0,d.Z)(de,[["render",ce]]);var ge=he,pe=(0,s.aZ)({name:"AddPage",components:{GoBackButton:ge,CustomButton:I},props:{number:{type:String}},data:function(){var e=this,t=[],n=localStorage.getItem("designs")||"[]";try{t=JSON.parse(n)}catch(s){}var o=t.find((function(t){return t.number===e.number}));return{currentDesign:o,designs:t,selectedPhotos:(null===o||void 0===o?void 0:o.photos)||[],newNumber:(null===o||void 0===o?void 0:o.number)||"",title:(null===o||void 0===o?void 0:o.title)||"",link:(null===o||void 0===o?void 0:o.link)||"",isPublished:(null===o||void 0===o?void 0:o.isPublished)||!1,isErrorMessageShown:!1,currentPhotoIndex:-1}},methods:{onFileSelected:function(e){var t=e.target,n=t.files;if(n&&n.length>0){var o=n[0];this.savePhoto(o)}t.value=""},savePhoto:function(e){var t=this,n=new FileReader;n.onload=function(){t.selectedPhotos.push(n.result)},n.readAsDataURL(e),console.log(this.selectedPhotos)},addDesign:function(){var e=this;if(this.newNumber.length>0&&this.title.length>0&&this.link.length>0&&this.selectedPhotos.length>0){if(this.currentDesign){var t=this.designs.find((function(t){return t.number===e.currentDesign.number}));t.number=this.newNumber,t.title=this.title,t.link=this.link,t.photos=this.selectedPhotos,t.isPublished=this.isPublished}else this.designs.push({photos:this.selectedPhotos,number:this.newNumber,title:this.title,link:this.link,isPublished:!0});localStorage.setItem("designs",JSON.stringify(this.designs)),this.isErrorMessageShown=!1,this.$router.push("/")}else this.showErrorMessage()},removeDesign:function(){var e=this,t=this.designs.filter((function(t){return t.number!==e.currentDesign.number}));localStorage.setItem("designs",JSON.stringify(t)),this.isErrorMessageShown=!1,this.$router.push("/")},showDeleteIcon:function(e){this.currentPhotoIndex=e},hideDeleteIcon:function(e){var t=this;this.currentPhotoIndex===e&&setTimeout((function(){t.currentPhotoIndex=-1}),1e3)},removePhoto:function(e){this.selectedPhotos=this.selectedPhotos.filter((function(t){return t!==e}))},togglePublished:function(){this.isPublished=!this.isPublished},showErrorMessage:function(){this.isErrorMessageShown=!0,setTimeout(this.closeErrorMessage,5e3)},closeErrorMessage:function(){this.isErrorMessageShown=!1}}});const fe=(0,d.Z)(pe,[["render",ae],["__scopeId","data-v-35dcf504"]]);var me=fe,ve=[{path:"/",name:"home",component:z},{path:"/add",name:"add",component:me},{path:"/edit/:number",name:"edit",component:me,props:!0}],be=(0,v.p7)({history:(0,v.r5)(),routes:ve}),we=be;(0,o.ri)(m).use(we).mount("#app")}},t={};function n(o){var s=t[o];if(void 0!==s)return s.exports;var i=t[o]={exports:{}};return e[o](i,i.exports,n),i.exports}n.m=e,function(){var e=[];n.O=function(t,o,s,i){if(!o){var r=1/0;for(c=0;c<e.length;c++){o=e[c][0],s=e[c][1],i=e[c][2];for(var l=!0,u=0;u<o.length;u++)(!1&i||r>=i)&&Object.keys(n.O).every((function(e){return n.O[e](o[u])}))?o.splice(u--,1):(l=!1,i<r&&(r=i));if(l){e.splice(c--,1);var a=s();void 0!==a&&(t=a)}}return t}i=i||0;for(var c=e.length;c>0&&e[c-1][2]>i;c--)e[c]=e[c-1];e[c]=[o,s,i]}}(),function(){n.d=function(e,t){for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};n.O.j=function(t){return 0===e[t]};var t=function(t,o){var s,i,r=o[0],l=o[1],u=o[2],a=0;if(r.some((function(t){return 0!==e[t]}))){for(s in l)n.o(l,s)&&(n.m[s]=l[s]);if(u)var c=u(n)}for(t&&t(o);a<r.length;a++)i=r[a],n.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return n.O(c)},o=self["webpackChunkhoroshop_testtask"]=self["webpackChunkhoroshop_testtask"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=n.O(void 0,[998],(function(){return n(299)}));o=n.O(o)})();
//# sourceMappingURL=app.06b7c531.js.map